{"version":3,"file":"replays.js","names":["SearchPanel","_preact$Component","_inheritsLoose","_this","_len","arguments","length","args","Array","_key","call","apply","concat","results","resultError","format","user","isPrivate","byRating","page","loggedInUser","loggedInUserIsSysop","sort","submitForm","e","_querySelector","_querySelector2","_querySelector3","preventDefault","base","querySelector","value","checked","search","cancelForm","searchLoggedIn","_proto","prototype","componentDidMount","_this2","Net","get","then","result","charAt","_result$slice$split","slice","split","userid","sysop","forceUpdate","updateSearch","decodeQuery","props","id","componentDidUpdate","query","parseInt","parseResponse","response","JSON","parse","isArray","actionerror","_this3","undefined","querySelectorAll","recent","PSRouter","replace","encodeQuery","username","error","modLink","overrides","newPage","_this4","url","replay","viewpointSwitched","toID","p2","password","formatid","startsWith","test","uploadtime","render","_this$results","_this5","_this$results2","activelySearching","hasNextPageLink","searchResults","preact","h","map","href","rating","p1","showingRight","onSubmit","type","name","placeholder","size","onClick","FeaturedReplays","Component","_preact$Component2","_this6","_len2","_key2","moreFun","moreCompetitive","showMoreFun","showMoreCompetitive","_proto2","style","paddingLeft","_PSModel","_class4","_this7","baseLoc","leftLoc","rightLoc","forceSinglePanel","stickyRight","baseLocSlashIndex","document","location","lastIndexOf","go","setSinglePanel","window","history","addEventListener","popState","update","onresize","_proto3","showingLeft","init","singlePanel","innerWidth","innerHeight","push","_window$history","pushState","loc","_window$history2","replaceState","state","_e$state","PSModel","PSReplays","_preact$Component3","_proto4","_this8","subscribe","el","target","parentNode","tagName","stopImmediatePropagation","position","display","flexDirection","justifyContent","BattlePanel","clear","getElementById","matchMedia","matches","body","className","event"],"sources":["../src/replays.tsx"],"sourcesContent":["/** @jsx preact.h */\r\nimport preact from 'preact';\r\nimport {Net, PSModel} from './utils';\r\nimport {BattlePanel} from './replays-battle';\r\ndeclare function toID(input: string): string;\r\n\r\ninterface ReplayResult {\r\n  uploadtime: number;\r\n  id: string;\r\n  format: string;\r\n  p1: string;\r\n  p2: string;\r\n  password?: string;\r\n  rating?: number;\r\n}\r\n\r\nclass SearchPanel extends preact.Component<{id: string}> {\r\n  results: ReplayResult[] | null = null;\r\n  resultError: string | null = null;\r\n  format = '';\r\n  user = '';\r\n  isPrivate = false;\r\n  byRating = false;\r\n  page = 1;\r\n  loggedInUser: string | null = null;\r\n  loggedInUserIsSysop = false;\r\n  sort = 'date';\r\n  override componentDidMount() {\r\n    Net('check-login.php').get().then(result => {\r\n      if (result.charAt(0) !== ']') return;\r\n      const [userid, sysop] = result.slice(1).split(',');\r\n      this.loggedInUser = userid;\r\n      this.loggedInUserIsSysop = !!sysop;\r\n      this.forceUpdate();\r\n    });\r\n    this.updateSearch(Net.decodeQuery(this.props.id));\r\n  }\r\n  override componentDidUpdate() {\r\n    const query = Net.decodeQuery(this.props.id);\r\n    const page = parseInt(query.page || '1');\r\n    const byRating = (query.sort === 'rating');\r\n    if (page !== this.page || byRating !== this.byRating) this.updateSearch(query);\r\n  }\r\n  updateSearch(query: {[k: string]: string}) {\r\n    const user = query.user || '';\r\n    const format = query.format || '';\r\n    const page = parseInt(query.page || '1');\r\n    const isPrivate = !!query.private;\r\n    this.byRating = (query.sort === 'rating');\r\n    this.search(user, format, isPrivate, page);\r\n  }\r\n  parseResponse(response: string, isPrivate?: boolean) {\r\n    this.results = null;\r\n    this.resultError = null;\r\n\r\n    if (isPrivate) {\r\n      if (response.charAt(0) !== ']') {\r\n        this.resultError = `Unrecognized response: ${response}`;\r\n        return;\r\n      }\r\n      response = response.slice(1);\r\n    }\r\n    const results = JSON.parse(response);\r\n    if (!Array.isArray(results)) {\r\n      this.resultError = results.actionerror || `Unrecognized response: ${response}`;\r\n      return;\r\n    }\r\n    this.results = results;\r\n  }\r\n  search(user: string, format: string, isPrivate?: boolean, page = 1) {\r\n    this.base!.querySelector<HTMLInputElement>('input[name=user]')!.value = user;\r\n    this.base!.querySelector<HTMLInputElement>('input[name=format]')!.value = format;\r\n    this.base!.querySelectorAll<HTMLInputElement>('input[name=private]')[isPrivate ? 1 : 0]!.checked = true;\r\n\r\n    if (!format && !user) return this.recent();\r\n    this.user = user;\r\n    this.format = format;\r\n    this.isPrivate = !!isPrivate;\r\n    this.page = page;\r\n    this.results = null;\r\n    this.resultError = null;\r\n    if (user || !format) this.byRating = false;\r\n\r\n    if (!format && !user) {\r\n      PSRouter.replace('')\r\n    } else {\r\n      PSRouter.replace('?' + Net.encodeQuery({\r\n        user: user || undefined,\r\n        format: format || undefined,\r\n        private: isPrivate ? '1' : undefined,\r\n        page: page === 1 ? undefined : page,\r\n        sort: this.byRating ? 'rating' : undefined,\r\n      }));\r\n    }\r\n    this.forceUpdate();\r\n    Net(`/api/replays/${isPrivate ? 'searchprivate' : 'search'}`).get({\r\n      query: {\r\n        username: this.user,\r\n        format: this.format,\r\n        page,\r\n        sort: this.byRating ? 'rating' : undefined,\r\n      },\r\n    }).then(response => {\r\n      if (this.format !== format || this.user !== user) return;\r\n      this.parseResponse(response, true);\r\n      this.forceUpdate();\r\n    }).catch(error => {\r\n      if (this.format !== '' || this.user !== '') return;\r\n      this.resultError = '' + error;\r\n      this.forceUpdate();\r\n    });\r\n  }\r\n  modLink(overrides: {page?: number, sort?: string}) {\r\n    const newPage = this.page + (overrides.page || 0);\r\n    return './?' + Net.encodeQuery({\r\n      user: this.user || undefined,\r\n      format: this.format || undefined,\r\n      private: this.isPrivate ? '1' : undefined,\r\n      page: newPage === 1 ? undefined : newPage,\r\n      sort: (overrides.sort ? overrides.sort === 'rating' : this.byRating) ? 'rating' : undefined,\r\n    });\r\n  }\r\n  recent() {\r\n    this.format = '';\r\n    this.user = '';\r\n    this.results = null;\r\n    this.forceUpdate();\r\n    Net('/api/replays/recent').get().then(response => {\r\n      if (this.format !== '' || this.user !== '') return;\r\n      this.parseResponse(response, true);\r\n      this.forceUpdate();\r\n    }).catch(error => {\r\n      if (this.format !== '' || this.user !== '') return;\r\n      this.resultError = '' + error;\r\n      this.forceUpdate();\r\n    });\r\n  }\r\n  submitForm = (e: Event) => {\r\n    e.preventDefault();\r\n    const format = this.base!.querySelector<HTMLInputElement>('input[name=format]')?.value || '';\r\n    const user = this.base!.querySelector<HTMLInputElement>('input[name=user]')?.value || '';\r\n    const isPrivate = !this.base!.querySelector<HTMLInputElement>('input[name=private]')?.checked;\r\n    this.search(user, format, isPrivate);\r\n  };\r\n  cancelForm = (e: Event) => {\r\n    e.preventDefault();\r\n    this.search('', '');\r\n  };\r\n  searchLoggedIn = (e: Event) => {\r\n    if (!this.loggedInUser) return; // shouldn't happen\r\n    (this.base!.querySelector('input[name=user]') as HTMLInputElement).value = this.loggedInUser;\r\n    this.submitForm(e);\r\n  };\r\n  url(replay: ReplayResult) {\r\n    const viewpointSwitched = (toID(replay.p2) === toID(this.user));\r\n    return replay.id + (replay.password ? `-${replay.password}pw` : '') + (viewpointSwitched ? '?p2' : '');\r\n  }\r\n  formatid(replay: ReplayResult) {\r\n    let formatid = replay.format;\r\n    if (!formatid.startsWith('gen') || !/[0-9]/.test(formatid.charAt(3))) {\r\n      // 2013 Oct 14, two days after X and Y were released; good enough\r\n      // estimate for when we renamed `ou` to `gen5ou`.\r\n      formatid = (replay.uploadtime > 1381734000 ? 'gen6' : 'gen5') + formatid;\r\n    }\r\n    if (!/^gen[0-9]+-/.test(formatid)) {\r\n      formatid = formatid.slice(0, 4) + '-' + formatid.slice(4);\r\n    }\r\n    return formatid;\r\n  }\r\n  override render() {\r\n    const activelySearching = !!(this.format || this.user);\r\n    const hasNextPageLink = (this.results?.length || 0) > 50;\r\n    const results = hasNextPageLink ? this.results!.slice(0, 50) : this.results;\r\n    const searchResults = <ul class=\"linklist\">\r\n      {(this.resultError && <li>\r\n        <strong class=\"message-error\">{this.resultError}</strong>\r\n      </li>) ||\r\n      (!results && <li>\r\n        <em>Loading...</em>\r\n      </li>) ||\r\n      (results?.map(result => <li>\r\n        <a href={this.url(result)} class=\"blocklink\">\r\n          <small>[{this.formatid(result)}]{result.rating ? ` Rating: ${result.rating}` : ''}<br /></small>\r\n          <strong>{result.p1}</strong> vs. <strong>{result.p2}</strong>\r\n        </a>\r\n      </li>))}\r\n    </ul>;\r\n    return <div class={PSRouter.showingRight() ? 'sidebar' : ''}><section class=\"section first-section\">\r\n      <h1>Search replays</h1>\r\n      <form onSubmit={this.submitForm}>\r\n        <p>\r\n          <label>Username:<br />\r\n          <input type=\"search\" class=\"textbox\" name=\"user\" placeholder=\"(blank = any user)\" size={20} /> {}\r\n          {this.loggedInUser && <button type=\"button\" class=\"button\" onClick={this.searchLoggedIn}>{this.loggedInUser}'s replays</button>}</label>\r\n        </p>\r\n        <p>\r\n          <label>Format:<br />\r\n          <input type=\"search\" class=\"textbox\" name=\"format\" placeholder=\"(blank = any format)\" size={30} /></label>\r\n        </p>\r\n        <p>\r\n          <label class=\"checkbox inline\"><input type=\"radio\" name=\"private\" value=\"\" /> Public</label> {}\r\n          <label class=\"checkbox inline\"><input type=\"radio\" name=\"private\" value=\"1\" /> Private (your own replays only)</label>\r\n        </p>\r\n        <p>\r\n          <button type=\"submit\" class=\"button\"><i class=\"fa fa-search\" aria-hidden></i> <strong>Search</strong></button> {}\r\n          {activelySearching && <button class=\"button\" onClick={this.cancelForm}>Cancel</button>}\r\n        </p>\r\n        {activelySearching && <h1 aria-label=\"Results\"></h1>}\r\n        {activelySearching && this.format && !this.user && <p>\r\n          Sort by: {}\r\n          <a href={this.modLink({sort: 'date', page: 1})} class={`button button-first${this.byRating ? '' : ' disabled'}`}>Date</a>\r\n          <a href={this.modLink({sort: 'rating', page: 1})} class={`button button-last${this.byRating ? ' disabled' : ''}`}>Rating</a>\r\n        </p>}\r\n        {activelySearching && this.page > 1 && <p class=\"pagelink\">\r\n          <a href={this.modLink({page: -1})} class=\"button\"><i class=\"fa fa-caret-up\"></i><br />Page {this.page - 1}</a>\r\n        </p>}\r\n        {activelySearching && searchResults}\r\n        {activelySearching && (this.results?.length || 0) > 50 && <p class=\"pagelink\">\r\n          <a href={this.modLink({page: 1})} class=\"button\">Page {this.page + 1}<br /><i class=\"fa fa-caret-down\"></i></a>\r\n        </p>}\r\n      </form>\r\n    </section>{!activelySearching && <FeaturedReplays />}{!activelySearching && <section class=\"section\">\r\n      <h1>Recent replays</h1>\r\n      <ul class=\"linklist\">\r\n        {searchResults}\r\n      </ul>\r\n    </section>}</div>;\r\n  }\r\n}\r\n\r\nclass FeaturedReplays extends preact.Component {\r\n  moreFun = false;\r\n  moreCompetitive = false;\r\n  showMoreFun = (e: Event) => {\r\n    e.preventDefault();\r\n    this.moreFun = true;\r\n    this.forceUpdate();\r\n  };\r\n  showMoreCompetitive = (e: Event) => {\r\n    e.preventDefault();\r\n    this.moreCompetitive = true;\r\n    this.forceUpdate();\r\n  };\r\n  override render() {\r\n    return <section class=\"section\">\r\n      <h1>Featured replays</h1>\r\n      <ul class=\"linklist\">\r\n        <li><h2>Fun</h2></li>\r\n        <li><a href=\"oumonotype-82345404\" class=\"blocklink\">\r\n          <small>[gen6-oumonotype]<br /></small>\r\n          <strong>kdarewolf</strong> vs. <strong>Onox</strong>\r\n          <small><br />Protean + prediction</small>\r\n        </a></li>\r\n        <li><a href=\"anythinggoes-218380995\" class=\"blocklink\">\r\n          <small>[gen6-anythinggoes]<br /></small>\r\n          <strong>Anta2</strong> vs. <strong>dscottnew</strong>\r\n          <small><br />Cheek Pouch</small>\r\n        </a></li>\r\n        <li><a href=\"uberssuspecttest-147833524\" class=\"blocklink\">\r\n          <small>[gen6-ubers]<br /></small>\r\n          <strong>Metal Brellow</strong> vs. <strong>zig100</strong>\r\n          <small><br />Topsy-Turvy</small>\r\n        </a></li>\r\n        {!this.moreFun && <li style={{paddingLeft: '8px'}}>\r\n          <button class=\"button\" onClick={this.showMoreFun}>More <i class=\"fa fa-caret-right\" aria-hidden></i></button>\r\n        </li>}\r\n        {this.moreFun && <li><a href=\"smogondoubles-75588440?p2\" class=\"blocklink\">\r\n          <small>[gen6-smogondoubles]<br /></small>\r\n          <strong>jamace6</strong> vs. <strong>DubsWelder</strong>\r\n          <small><br />Garchomp sweeps 11 pokemon</small>\r\n        </a></li>}\r\n        {this.moreFun && <li><a href=\"ou-20651579?p2\" class=\"blocklink\">\r\n          <small>[gen5-ou]<br /></small>\r\n          <strong>RainSeven07</strong> vs. <strong>my body is regi</strong>\r\n          <small><br />An entire team based on Assist V-create</small>\r\n        </a></li>}\r\n        {this.moreFun && <li><a href=\"balancedhackmons7322360?p2\" class=\"blocklink\">\r\n          <small>[gen5-balancedhackmons]<br /></small>\r\n          <strong>a ver</strong> vs. <strong>Shuckie</strong>\r\n          <small><br />To a ver's frustration, PP stall is viable in Balanced Hackmons</small>\r\n        </a></li>}\r\n        <h2>Competitive</h2>\r\n        <li><a href=\"doublesou-232753081\" class=\"blocklink\">\r\n          <small>[gen6-doublesou]<br /></small>\r\n          <strong>Electrolyte</strong> vs. <strong>finally</strong>\r\n          <small><br />finally steals Electrolyte's spot in the finals of the Doubles Winter Seasonal by outplaying Toxic Aegislash.</small>\r\n        </a></li>\r\n        <li><a href=\"smogtours-gen5ou-59402\" class=\"blocklink\">\r\n          <small>[gen5-ou]<br /></small>\r\n          <strong>Reymedy</strong> vs. <strong>Leftiez</strong>\r\n          <small><br />Reymedy's superior grasp over BW OU lead to his claim of victory over Leftiez in the No Johns Tournament.</small>\r\n        </a></li>\r\n        <li><a href=\"smogtours-gen3ou-56583\" class=\"blocklink\">\r\n          <small>[gen3-ou]<br /></small>\r\n          <strong>pokebasket</strong> vs. <strong>Alf'</strong>\r\n          <small><br />pokebasket proved Blissey isn't really one to take a Focus Punch well in his victory match over Alf' in the Fuck Trappers ADV OU tournament.</small>\r\n        </a></li>\r\n        <li><a href=\"smogtours-ou-55891\" class=\"blocklink\">\r\n          <small>[gen6-ou]<br /></small>\r\n          <strong>Marshall.Law</strong> vs. <strong>Malekith</strong>\r\n          <small><br />In a \"match full of reverses\", Marshall.Law takes on Malekith in the finals of It's No Use.</small>\r\n        </a></li>\r\n        <li><a href=\"smogtours-ubers-54583\" class=\"blocklink\">\r\n          <small>[gen6-custom]<br /></small>\r\n          <strong>hard</strong> vs. <strong>panamaxis</strong>\r\n          <small><br />Dark horse panamaxis proves his worth as the rightful winner of The Walkthrough Tournament in this exciting final versus hard.</small>\r\n        </a></li>\r\n        {!this.moreCompetitive && <li style={{paddingLeft: '8px'}}>\r\n          <button class=\"button\" onClick={this.showMoreCompetitive}>More <i class=\"fa fa-caret-right\" aria-hidden></i></button>\r\n        </li>}\r\n        {this.moreCompetitive && <li><a href=\"smogtours-ubers-34646\" class=\"blocklink\">\r\n          <small>[gen6-ubers]<br /></small>\r\n          <strong>steelphoenix</strong> vs. <strong>Jibaku</strong>\r\n          <small><br />In this SPL Week 4 battle, Jibaku's clever plays with Mega Sableye keep the momentum mostly in his favor.</small>\r\n        </a></li>}\r\n        {this.moreCompetitive && <li><a href=\"smogtours-uu-36860\" class=\"blocklink\">\r\n          <small>[gen6-uu]<br /></small>\r\n          <strong>IronBullet93</strong> vs. <strong>Laurel</strong>\r\n          <small><br />Laurel outplays IronBullet's Substitute Tyrantrum with the sly use of a Shuca Berry Cobalion, but luck was inevitably the deciding factor in this SPL Week 6 match.</small>\r\n        </a></li>}\r\n        {this.moreCompetitive && <li><a href=\"smogtours-gen5ou-36900\" class=\"blocklink\">\r\n          <small>[gen5-ou]<br /></small>\r\n          <strong>Lowgock</strong> vs. <strong>Meridian</strong>\r\n          <small><br />This SPL Week 6 match features impressive plays, from Jirachi sacrificing itself to paralysis to avoid a burn to some clever late-game switches.</small>\r\n        </a></li>}\r\n        {this.moreCompetitive && <li><a href=\"smogtours-gen4ou-36782\" class=\"blocklink\">\r\n          <small>[gen4-ou]<br /></small>\r\n          <strong>Heist</strong> vs. <strong>liberty32</strong>\r\n          <small><br />Starting out as an entry hazard-filled stallfest, this close match is eventually decided by liberty32's efficient use of Aerodactyl.</small>\r\n        </a></li>}\r\n        {this.moreCompetitive && <li><a href=\"randombattle-213274483\" class=\"blocklink\">\r\n          <small>[gen6-randombattle]<br /></small>\r\n          <strong>The Immortal</strong> vs. <strong>Amphinobite</strong>\r\n          <small><br />Substitute Lugia and Rotom-Fan take advantage of Slowking's utility and large HP stat, respectively, in this high ladder match.</small>\r\n        </a></li>}\r\n      </ul>\r\n    </section>;\r\n  }\r\n}\r\n\r\nexport const PSRouter = new class extends PSModel {\r\n  baseLoc: string;\r\n  leftLoc: string | null = null;\r\n  rightLoc: string | null = null;\r\n  forceSinglePanel = false;\r\n  stickyRight = true;\r\n  constructor() {\r\n    super();\r\n    const baseLocSlashIndex = document.location.href.lastIndexOf('/');\r\n    this.baseLoc = document.location.href.slice(0, baseLocSlashIndex + 1);\r\n    this.go(document.location.href);\r\n    this.setSinglePanel(true);\r\n    if (window.history) window.addEventListener('popstate', e => {\r\n      PSRouter.popState(e);\r\n      this.update();\r\n    });\r\n    window.onresize = () => {\r\n      PSRouter.setSinglePanel();\r\n    };\r\n  }\r\n  showingLeft() {\r\n    return this.leftLoc !== null && (!this.forceSinglePanel || this.rightLoc === null);\r\n  }\r\n  showingRight() {\r\n    return this.rightLoc !== null;\r\n  }\r\n  setSinglePanel(init?: boolean) {\r\n    const singlePanel = window.innerWidth < 1300;\r\n    const stickyRight = (window.innerHeight > 614);\r\n    if (this.forceSinglePanel !== singlePanel || this.stickyRight !== stickyRight) {\r\n      this.forceSinglePanel = singlePanel;\r\n      this.stickyRight = stickyRight;\r\n      if (!init) this.update();\r\n    }\r\n  }\r\n  push(href: string): boolean {\r\n    if (!href.startsWith(this.baseLoc)) return false;\r\n\r\n    if (this.go(href)) {\r\n      window.history?.pushState([this.leftLoc, this.rightLoc], '', href);\r\n    }\r\n    return true;\r\n  }\r\n  /** returns whether the URL should change */\r\n  go(href: string): boolean {\r\n    if (!href.startsWith(this.baseLoc)) return false;\r\n\r\n    const loc = href.slice(this.baseLoc.length);\r\n    if (!loc || loc.startsWith('?')) {\r\n      this.leftLoc = loc;\r\n      if (this.forceSinglePanel) {\r\n        this.rightLoc = null;\r\n      } else {\r\n        return this.rightLoc === null;\r\n      }\r\n    } else {\r\n      this.rightLoc = loc;\r\n    }\r\n    return true;\r\n  }\r\n  replace(loc: string) {\r\n    const href = this.baseLoc + loc;\r\n    if (this.go(href)) {\r\n      window.history?.replaceState([this.leftLoc, this.rightLoc], '', href);\r\n    }\r\n    return true;\r\n  }\r\n  popState(e: PopStateEvent) {\r\n    if (Array.isArray(e.state)) {\r\n      const [leftLoc, rightLoc] = e.state;\r\n      this.leftLoc = leftLoc;\r\n      this.rightLoc = rightLoc;\r\n      if (this.forceSinglePanel) this.leftLoc = null;\r\n    } else {\r\n      this.leftLoc = null;\r\n      this.rightLoc = null;\r\n      this.go(document.location.href);\r\n    }\r\n    this.update();\r\n  }\r\n};\r\n\r\nclass PSReplays extends preact.Component {\r\n  override componentDidMount() {\r\n    PSRouter.subscribe(() => this.forceUpdate());\r\n    if (window.history) {\r\n      this.base!.addEventListener('click', e => {\r\n        let el = e.target as HTMLElement;\r\n        for (; el; el = el.parentNode as HTMLElement) {\r\n          if (el.tagName === 'A' && PSRouter.push((el as HTMLAnchorElement).href)) {\r\n            e.preventDefault();\r\n            e.stopImmediatePropagation();\r\n            this.forceUpdate();\r\n            return;\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n  override render() {\r\n    const position = PSRouter.showingLeft() && PSRouter.showingRight() && !PSRouter.stickyRight ?\r\n      {display: 'flex', flexDirection: 'column', justifyContent: 'flex-end'} : {};\r\n    return <div class={'bar-wrapper' + (PSRouter.showingLeft() && PSRouter.showingRight() ? ' has-sidebar' : '')} style={position}>\r\n      {PSRouter.showingLeft() && <SearchPanel id={PSRouter.leftLoc!} />}\r\n      {PSRouter.showingRight() && <BattlePanel id={PSRouter.rightLoc!} />}\r\n      <div style={{clear: 'both'}}></div>\r\n    </div>;\r\n  }\r\n}\r\n\r\npreact.render(<PSReplays />, document.getElementById('main')!);\r\n\r\nif (window.matchMedia?.('(prefers-color-scheme: dark)').matches) {\r\n  document.body.className = 'dark';\r\n}\r\nwindow.matchMedia?.('(prefers-color-scheme: dark)').addEventListener('change', event => {\r\n  document.body.className = event.matches ? \"dark\" : \"\";\r\n});\r\n"],"mappings":"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"}